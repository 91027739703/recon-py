(()=>{"use strict";var a={p:""};a.p=document.getElementById("webpack-public-path").innerText+"Js/",(()=>{const a=13;StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},window.auth={currentPage:null,pages:{SignUp:1,Login:2,AddLogin:3,Password:4},getSsrc:function(a){var e=$('#login-form input[name="ssrc"]'),t=void 0;return e&&1===e.length&&(t=e.val()),t||(t=a),t},init:function(e){auth.currentPage=e;var t=[],n=[],i=[],s=[],r=null,o=null,c=null,g=null;if($("#openid-buttons").on("click","[data-provider]",(function(a){e===auth.pages.Login&&StackExchange.using("gps",(function(){StackExchange.gps.track("login.start",{tid:StackExchange.options.user.tid},!0)}));var t=$(this).data("provider");if(t){var n=!1;e===auth.pages.SignUp&&(StackExchange.using("gps",(function(){StackExchange.gps.track("signup.start",{openid_provider:t,location:auth.getSsrc("signup_page"),tid:StackExchange.options.user.tid},!0)})),n=!0),auth.signin($(this),a,n)}})),e===auth.pages.SignUp){var l=$("#se-login-fields");$(l).on("keyup","input[name=password],input[name=display-name],input[name=email]",(function(a){var e=$(a.target);if(!e.data("entered")){var t="signup."+e.attr("name").replace("display-","")+".entered";StackExchange.using("gps",(function(){StackExchange.gps.track(t,{},!0)})),e.data("entered",!0),StackExchange.options.mustTrackSignupStartForResearchRecruitment&&!l.data("entered")&&($.ajax("/urr/signup-start"),l.data("entered",!0))}})),$("#se-login-fields").on("click","#submit-button",(function(){StackExchange.using("gps",(function(){StackExchange.gps.track("signup.se.click",{},!0)}))})),$(".js-terms").on("click","a[name=privacy],a[name=tos]",(function(a){var e="signup."+$(a.target).attr("name")+".click";StackExchange.using("gps",(function(){StackExchange.gps.track(e,{},!0)}))})),$(".js-redirects").on("click","a[name=login],a[name=talent]",(function(a){var e="signup."+$(a.target).attr("name")+"_redirect";StackExchange.using("gps",(function(){StackExchange.gps.track(e,{},!0)}))}))}var u=$('<p class="s-input-message fc-red-400"></p>').text(__tr(["Caps lock is on"], undefined, "en", [])),p=$(".js-password"),d=!1;p.keypress((function(a){var e=String.fromCharCode(a.which);if(/[a-z]/i.test(e)){var t=e==e.toUpperCase();d=t&&!a.shiftKey}var n=!1===document.msCapsLockWarningOff;d&&!n?p.after(u):u.remove()})),p.find("input").blur((function(){u.remove()}));var h=!1,m=!1;$("#login-form input").on("blur",(function(a){e===auth.pages.SignUp&&(""==$(a.target).val()||h||(StackExchange.gps.track("signup.start",{openid_provider:"Stack Exchange",location:auth.getSsrc("signup_page"),tid:StackExchange.options.user.tid},!0),h=!0)),e===auth.pages.Login&&(""==$(a.target).val()||m||(StackExchange.gps.track("login.start",{tid:StackExchange.options.user.tid},!0),m=!0))})),$("#login-form input[type='text'], #login-form input[type='password'], #login-form input[type='email']").on("keypress",(function(t){if(t.which===a)return $("#submit-button").is(":hidden")||e===auth.pages.AddLogin?$("#login-form").trigger("submit"):$("#login-form #submit-button").trigger("click"),t.preventDefault(),!1}));var f=function(a,e){if(a.length>0){if(null!=e){for(var t=!0,n=0;n<a.length;n++)if(a[n].message==e.message){t=!1;break}a[0].changed=t}return a[0]}},v=function(a){var e,t,n;null!=a&&a.changed&&(e=a.attachTo,t=a.message,(n=e.closest(".js-auth-item")).addClass("has-error"),n.find(".js-alert-icon").removeClass("d-none"),n.find(".js-error-message").removeClass("d-none").append(t))},k=function(){v(r),v(o),v(g),v(c)},S=function(){t=[],n=[],i=[],s=[],r=null,o=null,c=null,g=null,$(".js-auth-item").removeClass("has-error"),$(".js-alert-icon").addClass("d-none"),$(".js-error-message").addClass("d-none").empty()},x=function(a,e,t){for(var n,i="all"===e,s=0;s<a.length&&(a[s].id!=e&&!i||(a.splice(s,1),i));s++);t&&((n=t.closest(".js-auth-item")).removeClass("has-error"),n.find(".js-alert-icon").addClass("d-none"),n.find(".js-error-message").addClass("d-none").empty())},w=StackExchange.Auth.addOrUpdateError,_=function(){var a,l,u;return function(a){var t=$("input#password");if(0!==t.length&&0!==t.val().trim().length||a?x(n,"pw-empty",t):w(n,{id:"pw-empty",index:0,attachTo:t,message:__tr(["Password cannot be empty."], undefined, "en", [])}),e===auth.pages.SignUp||e===auth.pages.Password){StackExchange.Auth.passwordStrengthValidation(t,n,x);var i=t.val()?.trim(),s=$("input#password2");if(s.length){var r=s.val()?.trim();0===r.length?w(n,{id:"pw-empty2",index:3,attachTo:s,message:__tr(["Password confirmation cannot be empty."], undefined, "en", [])}):x(n,"pw-empty2",s),r.length>0&&i!==r?w(n,{id:"pw-match",index:4,attachTo:s,message:__tr(["The passwords do not match."], undefined, "en", [])}):x(n,"pw-match",s)}if(StackExchange.settings.accounts.currentPasswordRequiredForChangingStackIdPassword){var o=$("input#currentpassword");o.length&&(0===o.val().trim().length?w(n,{id:"curpw-empty",index:0,attachTo:o,message:__tr(["Current password cannot be empty."], undefined, "en", [])}):x(n,"curpw-empty",o))}}}(),e===auth.pages.SignUp&&(!function(){var a=$("input#email").val()?.trim().toUpperCase(),e=$("input#display-name"),t=e.val()?.trim().toUpperCase(),n=e.data("is-teams");if(n&&""===t){var s=$("label[for='"+e.attr("id")+"']"),r=s.text()?s.text()+" cannot be empty":"Cannot be empty";w(i,{id:"missing",index:0,attachTo:e,message:r,faileType:"name_blank"})}else c&&"missing"===c.id&&x(i,"missing",e);if(a===t&&""!=a){var o=__tr(["Name and email address must be different."], undefined, "en", []),g=__tr(["Name and email address must be different. If you don't want to enter a name, just leave it blank."], undefined, "en", []);w(i,{id:"nm",index:1,attachTo:e,message:n?o:g,faileType:"name_email_same"})}else c&&"nm"===c.id&&x(i,"nm",e)}(),a=$("#no-captcha-here iframe").length>0,l=$(".js-catpcha-error-container"),a&&(grecaptcha.getResponse().length>0?x(s,"cp",l):w(s,{id:"cp",index:0,attachTo:l,message:__tr(["CAPTCHA response required."], undefined, "en", [])}))),e!=auth.pages.Password&&(0===(u=$("input#email")).length||0===u.val().trim().length?w(t,{id:"em-empty",index:0,attachTo:u,message:__tr(["Email cannot be empty."], undefined, "en", [])}):x(t,"em-empty",u)),r=f(t,r),o=f(n,o),c=f(i,c),g=f(s,g),null==r&&null==o&&null==c&&null==g},E=!0;$("#login-form #submit-button").on("click",(function(a){var n={isSignup:e===auth.pages.SignUp,isLogin:e===auth.pages.Login,isPassword:e===auth.pages.Password,isAddLogin:e===auth.pages.AddLogin};return $("#login-form #submit-button").addClass("is-loading"),S(),auth.setOAuthInfo("",""),$("#login-form input").each((function(a,e){var t=$(e).attr("name");t&&(t=t.replace(/(\W|_)/gi,""),n[t]=$(e).val())})),$.ajax({url:"/users/login-or-signup/validation/track",data:n,type:"POST",complete:function(){$("#login-form #submit-button").removeClass("is-loading");var a=_();E&&($("#login-form input").on("blur",(function(){if(_(),e===auth.pages.SignUp){var a=$("#login-form input#email"),n=a.val()?.trim();x(t,"em-ajax"),$.ajax({type:"POST",url:"/users/signup/email/validate",data:{email:n,fkey:StackExchange.options.user.fkey},success:function(n){e!==auth.pages.AddLogin&&(n.IsValid?r=null:(w(t,{id:"em-ajax",index:1,attachTo:a,message:n.ErrorMessage}),r=f(t,r)))},complete:function(){k()}})}else k()})),E=!1),a?$("#login-form").trigger("submit"):k()}}),a.preventDefault(),!1})),$("#se-pw-reset").on("submit",(function(a){S();var e=_();return e||(k(),a.preventDefault()),e}))},removeAllErrors:function(){},signin:function(a,e,t){var n=a.data?function(a){var e={name:a.data("provider")};a.data("oauthserver")&&(e.oauth_server=a.data("oauthserver"));a.data("oauthversion")&&(e.oauth_version=a.attr("data-oauthversion"));return e}(a):a;function i(a,e){var t="users_login";auth.currentPage===auth.pages.SignUp&&(t="signup_page",e||StackExchange.using("gps",(function(){StackExchange.gps.track("signup.start",{openid_provider:a,location:auth.getSsrc(t),tid:StackExchange.options.user.tid},!0)})),a&&StackExchange.using("gps",(function(){StackExchange.gps.track("signup.openid.click",{openid_provider:a,location:t},!0)}))),a&&StackExchange.using("gps",(function(){StackExchange.gps.track("openid.click",{openid_provider:a,location:t},!0)}))}n&&("stack_exchange"!==n.name?(i(n.name.replace(/_/g," "),t),"2.0"===n.oauth_version&&this.setOAuthInfo(n.oauth_version,n.oauth_server),$("#login-form").trigger("submit")):i("Stack Exchange",t))},setOAuthInfo:function(a,e){$("#oauth_version").val(a),$("#oauth_server").val(e)}}})()})();